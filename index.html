<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>La Stella Ristorante — Italiano</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <style>
    /* ... TU CSS COMPLETO AQUÍ (omitido por espacio, pero ya lo tienes en tu versión) ... */
  </style>
</head>
<body>
  <header>
    <div class="brand">
      <img src="logo.png" alt="Logo La Stella" id="logoPreview">
      <div>
        <h1>La Stella Ristorante ⭐</h1>
        <p>Auténtica cocina italiana — pastas frescas, lasagna y vinos selectos</p>
      </div>
    </div>
  </header>

  <nav>
    <a class="nav-link" href="#historia">Historia</a>
    <div class="dropdown">
      <a class="nav-link" href="#" onclick="toggleDropdown(event,this)">Menú ▾</a>
      <div class="drop-menu" aria-hidden="true">
        <a href="#menu-entradas">Entradas</a>
        <a href="#menu-pastas">Pastas & Risottos</a>
        <a href="#menu-postres">Postres</a>
      </div>
    </div>
    <div class="dropdown">
      <a class="nav-link" href="#" onclick="toggleDropdown(event,this)">Vinos ▾</a>
      <div class="drop-menu" aria-hidden="true">
        <a href="#vinos-rojos">Tintos</a>
        <a href="#vinos-blancos">Blancos</a>
        <a href="#vinos-espumosos">Espumosos</a>
      </div>
    </div>
    <a class="nav-link" href="#promos">Promociones</a>
    <a class="nav-link" href="#galeria">Galería</a>
    <a class="nav-link" href="#ordenar">Ordenar en línea</a>
    <a class="nav-reserva" href="formulario.html" style="font-size: 20px; color: yellow;">Reservas</a>
  </nav>

  <main>
    <div class="grid">
      <div>
        <!-- SECCIONES PRINCIPALES: Hero, Historia, Menú, Vinos, Promociones, Galería -->
        <!-- ... TU CONTENIDO HTML AQUÍ (ya lo tienes, no ha cambiado) ... -->
      </div>

      <aside>
        <!-- PANEL LATERAL: promociones, formulario, imágenes, contacto -->
        <!-- ... TU CONTENIDO HTML AQUÍ ... -->
      </aside>
    </div>

    <footer>
      ⭐ La Stella Ristorante — Elegancia y sabor en cada plato ⭐
    </footer>
  </main>

  <script>
    // Dropdown helpers
    function toggleDropdown(e, el){
      e.preventDefault();
      const parent = el.parentElement;
      parent.classList.toggle('open');
      document.querySelectorAll('.dropdown').forEach(d=>{if(d!==parent) d.classList.remove('open')});
    }
    document.addEventListener('click', (e)=>{
      if(!e.target.closest('.dropdown')) document.querySelectorAll('.dropdown').forEach(d=>d.classList.remove('open'));
    })

    // Order form
    function handleOrder(ev){
      ev.preventDefault();
      const f = ev.target;
      const data = {
        name: f.name.value.trim(),
        phone: f.phone.value.trim(),
        email: f.email.value.trim(),
        address: f.address.value.trim(),
        type: f.type.value,
        details: f.details.value.trim(),
        notes: f.notes.value.trim(),
        date: new Date().toISOString()
      };
      if(!data.name || !data.phone || !data.type){
        document.getElementById('orderMsg').textContent = 'Por favor completa los campos obligatorios (nombre, teléfono y tipo).';
        return;
      }
      const orders = JSON.parse(localStorage.getItem('laStella_orders') || '[]');
      orders.push(data);
      localStorage.setItem('laStella_orders', JSON.stringify(orders));
      f.reset();
      document.getElementById('orderMsg').textContent = '¡Pedido recibido! Te contactaremos para confirmar. (Demo: guardado localmente)';
    }

    // Image upload + preview
    const imageInput = document.getElementById('imageInput');
    const thumbs = document.getElementById('thumbs');
    let selectedFiles = [];
    imageInput.addEventListener('change', (e)=>{
      thumbs.innerHTML = '';
      selectedFiles = Array.from(e.target.files);
      selectedFiles.forEach((file, i)=>{
        const reader = new FileReader();
        const wrap = document.createElement('div'); wrap.className='thumb';
        reader.onload = function(ev){
          const img = document.createElement('img'); img.src = ev.target.result; wrap.appendChild(img);
        }
        reader.readAsDataURL(file);
        thumbs.appendChild(wrap);
      })
    })

    // Apply images to gallery and set first as logo
    document.getElementById('applyImages').addEventListener('click', ()=>{
      const gallery = document.getElementById('uploadedGallery');
      const logo = document.getElementById('logoPreview');
      if(selectedFiles.length===0){ alert('Selecciona primero al menos una imagen.'); return; }
      gallery.innerHTML='';
      selectedFiles.forEach((file, idx)=>{
        const reader = new FileReader();
        reader.onload = function(ev){
          const card = document.createElement('div'); card.className='card';
          const img = document.createElement('img'); img.src = ev.target.result;
          const bd = document.createElement('div'); bd.className='card-body';
          const h3 = document.createElement('h3'); h3.textContent = file.name.split('.')[0];
          const p = document.createElement('p'); p.className='tiny muted'; p.textContent = '';
          bd.appendChild(h3); bd.appendChild(p);
          card.appendChild(img); card.appendChild(bd);
          gallery.appendChild(card);
          if(idx===0) logo.src = ev.target.result;
        }
        reader.readAsDataURL(file);
      })
      imageInput.value=''; thumbs.innerHTML=''; selectedFiles=[];
    })

    // Close dropdowns on Esc
    document.addEventListener('keydown', (e)=>{ if(e.key==='Escape') document.querySelectorAll('.dropdown').forEach(d=>d.classList.remove('open')) })
  </script>

  <!--Start of Tawk.to Script-->
  <script type="text/javascript">
  var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
  (function(){
    var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
    s1.async=true;
    s1.src='https://embed.tawk.to/68cc0737b285fd192a49074e/1j5efoc95';
    s1.charset='UTF-8';
    s1.setAttribute('crossorigin','*');
    s0.parentNode.insertBefore(s1,s0);
  })();
  </script>
  <!--End of Tawk.to Script-->

</body>
</html>




